# 8086（二）  
## cpu的典型构成
1、寄存器：信息存储  
2、运算器：信息处理  
3、控制器：控制其他器件工作  
cpu的最主要部件是寄存器，可以通过改变寄存器的内容来实现CPU的控制
常见的：  
> 数据寄存器：AX、BX、CX、DX。这四个寄存器通常用来存放一般性的数据，称为**通用寄存器**  
> 指针寄存器：SP、BP  
> 变址寄存器：SI、DI  
> 控制寄存器：IP、FLAG  
> 段寄存器：CS、DS、SS、ES
  
##通用寄存器
上一代8086的寄存器都是8位，为了保证兼容，AX、BX、CX、DX都可以用两个独立的8位寄存器来使用  
> H 代表高位寄存器  
> L 代表低位寄存器  
**AX 可以分为AH和AL**   
**BX 可以分为BH和BL**  
**CX 可以分为CH和CL**   
**DX 可以分为DH和DL**   

## 字节与字  
> **字节**：byte，1个字节由8bit组成，可以存储在8位寄存器中  
> **字**：word，1个字有2个字节组成，这2个字节分别称为字的高字节和低字节   

## CS和IP  
1、CS为代码寄存器，IP为指针寄存器，他们指示CPU当前要读取指令的地址   
2、任意时刻，8086CPU都会将CS：IP指向的指令作为下一条需要取出执行的指令

**执行过程**  
> 从CS：IP 指向的内存单元读取指令，读取的指令进入指令缓冲器  
> IP = IP + 所读取的指令的长度，从而指向下一条指令  
> 执行指令，转到第一步，重复这个过程  
  
**eg：**  
> mov ax 0123H  将0123H 赋给ax  
> mov bx 0003H  将0003H 赋给bx  
> mov ax bx  将bx 赋给ax  
> add ax bx  将bx 和ax相加  
>  结果应该是 0006H  

## 指令和数据  
1. 在内存或者磁盘中，指令和数据没有任何区别，都是二进制信息
2. CPU在工作的时候把有的信息看做指令，有的信息看做数据，为同样的信息赋予了不同的意义

#### 问: CPU根据什么将内存的信息看做指令  
> CPU 将CS：IP 指向的内存单元的内容看做指令  
> 如果内存中的某段内容曾被CPU执行过，那么他所在的内存单元必然被CS：IP指向过  

## jmp指令  
1. cpu从何处执行指令是有cs、IP中的内容觉得的，可以通过cs、Ip的内容来控制
2. 8086提供了一个mov指令，可以 用来修改大部分的寄存器的值。
3. 但是，mov指令不能修改cs、ip的值，8086没有提供这样的功能
4. 8086 提供了另外的指令cs、ip的值，这些指令通称为转移指令，最简单的就是jmp指令。 
 
>jmp 2AE3:3 执行后：cs = 2AE3，IP = 0003H，cpu将从2AE33H处读取指令； **jmp 段地址：偏移地址，指令的功能为：用指令中给出的段地址修改cs，偏移地址修改IP**  
> 若指向修改IP的内容，可用形如‘jmp 某一个合法寄存器’的指令完成。eg：  
> >jmp ax 指令执行前：ax = 1000H，cs = 2000H，IP = 0003H
> >指令执行后：ax = 1000H，cs = 2000H，IP = 000H  
> >jmp ax 可以看做：mov IP ax  

## Debug 

debug 是DOS 、 windows都提供的实模式（8086方式）程序的调试工具，使用它，可以查看cpu各种寄存器的内容，内存情况和机器码级跟踪程序的运行

 **练习**   
 计算2的4次方    
 > mov ax 2  相当于 x = 2  
 > add ax ax  相当于 x = 2 + 2  
 > add ax ax   相当于 x = 4 + 4  
 > add ax ax   相当于 x = 8 + 8  



